(self.webpackChunktest_ng12=self.webpackChunktest_ng12||[]).push([[705],{8705:function(t,e,n){"use strict";n.r(e),n.d(e,{ProductModule:function(){return rt}});var i=n(1116),r=n(1041),o=n(7503),c=n(5366),a=n(6694),s=n(3464);function d(t,e){if(1&t){const t=c.EpF();c.ynx(0),c.TgZ(1,"p"),c.TgZ(2,"mat-checkbox",15),c.NdJ("ngModelChange",function(t){return e.$implicit.checked=t})("change",function(){return c.CHM(t),c.oxw().filter()}),c._uU(3),c.qZA(),c.qZA(),c.BQk()}if(2&t){const t=e.$implicit;c.xp6(2),c.Q6J("ngModel",t.checked),c.xp6(1),c.hij(" ",t.name," ")}}function g(t,e){if(1&t){const t=c.EpF();c.ynx(0),c.TgZ(1,"p"),c.TgZ(2,"mat-checkbox",15),c.NdJ("ngModelChange",function(t){return e.$implicit.checked=t})("change",function(){return c.CHM(t),c.oxw().filter()}),c._uU(3),c.qZA(),c.qZA(),c.BQk()}if(2&t){const t=e.$implicit;c.xp6(2),c.Q6J("ngModel",t.checked),c.xp6(1),c.hij(" ",t.name," ")}}function p(t,e){1&t&&(c.TgZ(0,"div",16),c._UZ(1,"mat-spinner"),c.qZA())}function l(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",17),c.TgZ(1,"app-product-list",18),c.NdJ("sortEvent",function(e){return c.CHM(t),c.oxw().getSortValue(e)}),c.qZA(),c.qZA()}if(2&t){const t=c.oxw();c.xp6(1),c.Q6J("products",t.productList)("sort",!0)}}let u=(()=>{class t{constructor(t,e,n,i){this.productService=t,this.siteService=e,this.route=n,this.router=i,this.loading=!0}ngOnInit(){this.siteService.setNav2({component:"ProductSearchComponent"}),this.route.queryParams.subscribe(t=>{this.loading=!0,this.keyword=t.keyword,this.type=t.type,this.search(t)})}search(t){this.subscription=this.productService.searchProductsQuery(t).valueChanges.subscribe(({data:t,loading:e})=>{this.productList=t.allProductvariantitems.edges,"filter"!=this.type?(this.generateCategoryFilter(this.productList),this.generateBrandFilter(this.productList)):this.loading=e})}generateBrandFilter(t){t.length>0&&(this.brands=[],t.filter(t=>null!=t.node.parentSn.goodsBrand).map(t=>t.node.parentSn.goodsBrand).forEach((t,e)=>{this.brands.push({id:e,name:t,checked:!1})}))}generateCategoryFilter(t){const e=t.map(t=>t.node.parentSn.category.parent.id);e.length>0?this.productService.getCategoryQuery(e).valueChanges.subscribe(({data:t,loading:e})=>{const n=t.allProductcategory.edges.map(t=>t.node.productcategorySet.edges.map(t=>({id:t.node.id,name:t.node.name,checked:!1})));this.categories=[],n.forEach(t=>{this.categories.push(...t)}),this.loading=e}):this.loading=!1}navTo(t){this.router.navigate([{outlets:{primary:"product/search",amount:null}}],{queryParams:t})}buildQueryParams(t,e,n){const i=[];return null==t||t.forEach(t=>{t.checked&&i.push(t[e])}),i.length>0?{[n]:i.join()}:{}}filter(){let t={keyword:this.keyword,type:"filter"};this.minPrice&&this.maxPrice&&(t.minprice=this.minPrice,t.maxprice=this.maxPrice),this.sortValue&&(t.orderBy=this.sortValue),t=Object.assign(Object.assign(Object.assign({},t),this.buildQueryParams(this.categories,"id","category")),this.buildQueryParams(this.brands,"name","brand")),this.navTo(t)}getSortValue(t){this.sortValue=t,this.filter()}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(a.M5),c.Y36(a.Pu),c.Y36(s.gz),c.Y36(s.F0))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-product-search"]],decls:34,vars:7,consts:[[1,"product-search"],[1,"product-search__search"],[4,"ngFor","ngForOf"],[1,"product-search__search__line"],[1,"product-search__search__price"],[1,"product-search__search__price__label"],[1,"product-search__search__price__min"],["appearance","fill",2,"width","80px"],["type","number","matInput","",3,"ngModel","ngModelChange"],[1,"product-search__search__price__dash"],[1,"product-search__search__price__max"],[1,"product-search__search__price__btn"],["mat-raised-button","","color","accent",3,"disabled","click"],["class","product-search__spinner",4,"ngIf"],["class","product-search__list",4,"ngIf"],[3,"ngModel","ngModelChange","change"],[1,"product-search__spinner"],[1,"product-search__list"],[3,"products","sort","sortEvent"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div"),c.TgZ(3,"h4"),c._uU(4,"Categories"),c.qZA(),c.YNc(5,d,4,2,"ng-container",2),c.qZA(),c._UZ(6,"div",3),c.TgZ(7,"div",4),c.TgZ(8,"div",5),c.TgZ(9,"strong"),c._uU(10,"Price Range"),c.qZA(),c.qZA(),c.TgZ(11,"div",6),c.TgZ(12,"mat-form-field",7),c.TgZ(13,"mat-label"),c._uU(14,"Min"),c.qZA(),c.TgZ(15,"input",8),c.NdJ("ngModelChange",function(t){return e.minPrice=t}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(16,"div",9),c._uU(17,"-"),c.qZA(),c.TgZ(18,"div",10),c.TgZ(19,"mat-form-field",7),c.TgZ(20,"mat-label"),c._uU(21,"Max"),c.qZA(),c.TgZ(22,"input",8),c.NdJ("ngModelChange",function(t){return e.maxPrice=t}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(23,"div",11),c.TgZ(24,"button",12),c.NdJ("click",function(){return e.filter()}),c._uU(25,"Apply"),c.qZA(),c.qZA(),c.qZA(),c._UZ(26,"div",3),c.TgZ(27,"div"),c.TgZ(28,"h4"),c._uU(29,"Brands"),c.qZA(),c.YNc(30,g,4,2,"ng-container",2),c.qZA(),c._UZ(31,"div",3),c.qZA(),c.YNc(32,p,2,0,"div",13),c.YNc(33,l,2,2,"div",14),c.qZA()),2&t&&(c.xp6(5),c.Q6J("ngForOf",e.categories),c.xp6(10),c.Q6J("ngModel",e.minPrice),c.xp6(7),c.Q6J("ngModel",e.maxPrice),c.xp6(2),c.Q6J("disabled",!e.minPrice||!e.maxPrice||e.minPrice>=e.maxPrice),c.xp6(6),c.Q6J("ngForOf",e.brands),c.xp6(2),c.Q6J("ngIf",e.loading),c.xp6(1),c.Q6J("ngIf",!e.loading))},styles:['.product-search[_ngcontent-%COMP%]{display:grid;grid-template-columns:200px 1fr;font-size:.875rem;align-items:flex-start;padding-top:2rem;padding-left:2rem}.product-search__search[_ngcontent-%COMP%]{display:grid;align-items:center;grid-gap:1rem;gap:1rem}.product-search__search__line[_ngcontent-%COMP%]{display:grid;border-bottom:1px solid rgba(0,0,0,.09)}.product-search__search__price[_ngcontent-%COMP%]{display:grid;grid-gap:1rem;gap:1rem;grid-template-columns:1fr 5px 1fr;grid-template-areas:"label label label" "min   dash  max" "btn   btn   btn"}.product-search__search__price__label[_ngcontent-%COMP%]{display:grid;grid-area:label}.product-search__search__price__min[_ngcontent-%COMP%]{display:grid;grid-area:min}.product-search__search__price__dash[_ngcontent-%COMP%]{display:grid;grid-area:dash;align-items:center}.product-search__search__price__max[_ngcontent-%COMP%]{display:grid;grid-area:max}.product-search__search__price__btn[_ngcontent-%COMP%]{display:grid;grid-area:btn}.product-search__list[_ngcontent-%COMP%]{display:grid}.product-search__spinner[_ngcontent-%COMP%]{display:grid;justify-self:center;height:50%;align-items:center}']}),t})();var _=n(2762),m=n(3070),f=n(9550),h=n(4369);function Z(t,e){if(1&t&&c._UZ(0,"img",18),2&t){const t=c.oxw(2);c.Q6J("src",t.mainPicture,c.LSH)}}function y(t,e){if(1&t&&c._UZ(0,"img",18),2&t){const t=c.oxw().$implicit;c.Q6J("src",t.node.imgUrl,c.LSH)}}function v(t,e){if(1&t&&(c.ynx(0),c.YNc(1,y,1,1,"img",19),c.BQk()),2&t){const t=e.$implicit;c.xp6(1),c.Q6J("ngIf",t.node.coverPhoto)}}function b(t,e){if(1&t&&c.YNc(0,v,2,1,"ng-container",7),2&t){const t=c.oxw(2);c.Q6J("ngForOf",t.product.parentSn.parent2image.edges)}}function x(t,e){if(1&t){const t=c.EpF();c.ynx(0),c.TgZ(1,"img",20),c.NdJ("mouseover",function(){const e=c.CHM(t).$implicit;return c.oxw(2).setMainPicture(e.node.imgUrl)}),c.qZA(),c.BQk()}if(2&t){const t=e.$implicit;c.xp6(1),c.Q6J("src",t.node.imgUrl,c.LSH)}}function C(t,e){if(1&t&&(c.ynx(0),c._uU(1),c.ALo(2,"currency"),c.BQk()),2&t){const t=c.oxw(2);c.xp6(1),c.hij(" ",c.lcZ(2,1,t.product.price)," ")}}function M(t,e){if(1&t&&(c.ynx(0),c._uU(1),c.ALo(2,"currency"),c.ALo(3,"currency"),c.BQk()),2&t){const t=c.oxw(2);c.xp6(1),c.AsE(" ",c.lcZ(2,2,t.product.parentSn.priceMin),"~",c.lcZ(3,4,t.product.parentSn.priceMax)," ")}}function P(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"mat-button-toggle",21),c.NdJ("click",function(){const e=c.CHM(t).$implicit;return c.oxw(2).goSelectVariant(e.node.id,e.node.imgUrl)}),c._uU(1),c.qZA()}if(2&t){const t=e.$implicit;c.Q6J("value",t.node.options),c.xp6(1),c.hij(" ",t.node.options," ")}}function O(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"section",2),c.TgZ(1,"div",3),c.YNc(2,Z,1,1,"img",4),c.YNc(3,b,1,1,"ng-template",null,5,c.W1O),c.TgZ(5,"div",6),c.YNc(6,x,2,1,"ng-container",7),c.qZA(),c.qZA(),c.TgZ(7,"div",8),c.TgZ(8,"div",9),c._uU(9),c.qZA(),c.TgZ(10,"div",10),c.YNc(11,C,3,3,"ng-container",11),c.YNc(12,M,4,6,"ng-container",11),c.qZA(),c.TgZ(13,"div",12),c.TgZ(14,"div"),c._uU(15),c.qZA(),c.TgZ(16,"div"),c.TgZ(17,"mat-button-toggle-group"),c.YNc(18,P,2,2,"mat-button-toggle",13),c.qZA(),c.qZA(),c.qZA(),c.TgZ(19,"div",12),c.TgZ(20,"div"),c._uU(21,"available stocks:"),c.qZA(),c.TgZ(22,"div"),c._uU(23),c.qZA(),c.qZA(),c.TgZ(24,"div",12),c.TgZ(25,"div"),c._uU(26,"quantity:"),c.qZA(),c.TgZ(27,"div"),c.TgZ(28,"mat-form-field"),c.TgZ(29,"input",14),c.NdJ("ngModelChange",function(e){return c.CHM(t),c.oxw().quantity=e}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(30,"div"),c.TgZ(31,"button",15),c.NdJ("click",function(){c.CHM(t);const e=c.oxw();return e.addCart(e.product.sku,e.quantity)}),c._uU(32,"Add to Cart"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(33,"div",16),c._UZ(34,"p",17),c.qZA(),c.qZA()}if(2&t){const t=c.MAs(4),e=c.oxw();c.xp6(2),c.Q6J("ngIf",e.mainPicture)("ngIfElse",t),c.xp6(4),c.Q6J("ngForOf",e.product.parentSn.parent2image.edges),c.xp6(3),c.Oqu(e.product.parentSn.title),c.xp6(2),c.Q6J("ngIf",e.selectVariant),c.xp6(1),c.Q6J("ngIf",!e.selectVariant),c.xp6(3),c.hij("",e.product.productVariant.name,":"),c.xp6(3),c.Q6J("ngForOf",e.product.parentSn.product2variantitem.edges),c.xp6(5),c.hij("",e.product.quantity," "),c.xp6(6),c.Q6J("disabled",!e.selectVariant)("ngModel",e.quantity),c.xp6(2),c.Q6J("disabled",!e.selectVariant),c.xp6(3),c.Q6J("innerHTML",e.product.parentSn.goodsDesc,c.oJD)}}let A=(()=>{class t{constructor(t,e,n,i,r,o){this.route=t,this.router=e,this.siteService=n,this.productService=i,this.cartService=r,this.authService=o,this.selectVariant=!1,this.quantity=1}ngOnInit(){this.siteService.setNav2({component:"ProductDetailComponent"}),this.route.params.subscribe(t=>{this.product=this.productService.getProductDetail(t.id)})}setMainPicture(t){this.mainPicture=t}addCart(t,e){this.authService.isLoggedIn()?this.cartService.addCart(t,e).subscribe():this.authService.openLoginDialog()}goSelectVariant(t,e){this.router.navigate([{outlets:{primary:`product/detail/${t}`,amount:null}}]),this.mainPicture=e,this.selectVariant=!0}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(s.gz),c.Y36(s.F0),c.Y36(a.Pu),c.Y36(a.M5),c.Y36(a.Ni),c.Y36(a.e8))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-product-detail"]],decls:2,vars:1,consts:[[1,"product-detail-container"],["class","product-detail-grid mat-subheading-2",4,"ngIf"],[1,"product-detail-grid","mat-subheading-2"],[1,"product-detail-img"],[3,"src",4,"ngIf","ngIfElse"],["getImgCoverPhoto",""],[1,"product-detail-img-slide"],[4,"ngFor","ngForOf"],[1,"product-detail-title"],[1,"mat-title",2,"margin-bottom","0"],[1,"mat-display-1",2,"margin-bottom","0"],[4,"ngIf"],[1,"mat-body"],[3,"value","click",4,"ngFor","ngForOf"],["matInput","","type","number",3,"disabled","ngModel","ngModelChange"],["mat-raised-button","","color","accent",3,"disabled","click"],[1,"product-detail-desc","mat-body"],[3,"innerHTML"],[3,"src"],[3,"src",4,"ngIf"],[3,"src","mouseover"],[3,"value","click"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.YNc(1,O,35,13,"section",1),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngIf",e.product))},directives:[i.O5,i.sg,_.A9,m.KE,f.Nt,r.wV,r.Fj,r.JJ,r.On,h.lW,_.Yi],pipes:[i.H9],styles:['.product-detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;grid-template-areas:"img title" "desc desc";grid-gap:1rem}.product-detail-grid-items[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .product-detail-img[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .product-detail-title[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;padding-bottom:1.5rem}.product-detail-title[_ngcontent-%COMP%]{grid-area:title}.product-detail-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:0 1 auto}.product-detail-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{padding-left:2rem}.product-detail-desc[_ngcontent-%COMP%]{grid-area:desc;padding:1rem}.product-detail-img[_ngcontent-%COMP%]{grid-area:img;padding:1rem;align-items:center;justify-content:center;-webkit-animation:fadein 2s;animation:fadein 2s}.product-detail-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;flex:0 1 auto;width:450px;height:55vh}.product-detail-img-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;margin:.2rem;width:50px;height:10vh;cursor:pointer}.product-detail-container[_ngcontent-%COMP%]{background-color:#fff;padding:.5rem;margin:1rem}mat-form-field[_ngcontent-%COMP%]{width:150px;text-align:center}@-webkit-keyframes fadein{0%{opacity:0}to{opacity:1}}@keyframes fadein{0%{opacity:0}to{opacity:1}}']}),t})();var q=n(3841),T=n(7064),w=n(4311),J=n(7307);function U(t,e){if(1&t&&(c.TgZ(0,"div",5),c._uU(1),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.hij(" ",t.title," ")}}function k(t,e){if(1&t&&(c.TgZ(0,"mat-option",13),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.Q6J("value",t.value),c.xp6(1),c.hij(" ",t.viewValue," ")}}function Q(t,e){if(1&t){const t=c.EpF();c.ynx(0),c.TgZ(1,"div",6),c.TgZ(2,"div",7),c._uU(3),c.qZA(),c.TgZ(4,"div",8),c.TgZ(5,"mat-form-field",9),c.TgZ(6,"mat-label"),c._uU(7,"Sort By:"),c.qZA(),c.TgZ(8,"mat-select",10),c.NdJ("selectionChange",function(e){return c.CHM(t),c.oxw().onSortChange(e)}),c.YNc(9,k,2,2,"mat-option",11),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(10,"div",12),c.BQk()}if(2&t){const t=c.oxw();c.xp6(3),c.hij(" ",t.results," items found "),c.xp6(6),c.Q6J("ngForOf",t.sortItems)}}function S(t,e){if(1&t&&c._UZ(0,"img",24),2&t){const t=c.oxw().$implicit,e=c.oxw().$implicit;c.Q6J("src",t.node.imgUrl,c.LSH)("alt",e.node.parentSn.title)}}function I(t,e){if(1&t&&(c.ynx(0),c.YNc(1,S,1,2,"img",23),c.BQk()),2&t){const t=e.$implicit;c.xp6(1),c.Q6J("ngIf",t.node.coverPhoto)}}function N(t,e){if(1&t&&c._UZ(0,"img",24),2&t){const t=c.oxw(2).$implicit;c.Q6J("src",t.node.imgUrl,c.LSH)("alt",t.node.parentSn.title)}}function Y(t,e){if(1&t&&c.YNc(0,N,1,2,"img",25),2&t){const t=c.oxw().$implicit;c.Q6J("ngIf",t.node.imgUrl)}}function F(t,e){if(1&t&&(c.ynx(0),c.TgZ(1,"div",14),c.TgZ(2,"div",15),c.TgZ(3,"div",16),c._uU(4),c.ALo(5,"slice"),c.qZA(),c.TgZ(6,"div",17),c._uU(7),c.ALo(8,"currency"),c.ALo(9,"currency"),c.qZA(),c.qZA(),c.YNc(10,I,2,1,"ng-container",4),c.YNc(11,Y,1,1,"ng-template",null,18,c.W1O),c.TgZ(13,"div",19),c.TgZ(14,"div",20),c.TgZ(15,"mat-icon"),c._uU(16,"favorite_border"),c.qZA(),c.qZA(),c.TgZ(17,"div",21),c.TgZ(18,"mat-icon"),c._uU(19,"star_border"),c.qZA(),c.qZA(),c.TgZ(20,"div",22),c._uU(21,"0 Sold"),c.qZA(),c.qZA(),c.qZA(),c.BQk()),2&t){const t=e.$implicit;c.xp6(1),c.MGl("routerLink","/product/detail/",t.node.id,""),c.xp6(2),c.s9C("matTooltip",t.node.parentSn.title),c.xp6(1),c.hij("",c.Dn7(5,6,t.node.parentSn.title,0,40),"..."),c.xp6(3),c.AsE("",c.lcZ(8,10,t.node.parentSn.priceMin),"~",c.lcZ(9,12,t.node.parentSn.priceMax),""),c.xp6(3),c.Q6J("ngForOf",t.node.parentSn.parent2image.edges)}}let j=(()=>{class t{constructor(){this.sortItems=[{value:"price",viewValue:"Price low to high"},{value:"-price",viewValue:"Price high to low"}],this.sort=!1,this.sortEvent=new c.vpe,this.loading=!0}ngOnInit(){var t;this.sort&&(this.results=null===(t=this.products)||void 0===t?void 0:t.length)}onSortChange(t){this.sortEvent.emit(t.value)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-product-list"]],inputs:{products:"products",title:"title",sort:"sort"},outputs:{sortEvent:"sortEvent"},decls:5,vars:3,consts:[[1,"product-list"],["class","product-list__header mat-title",4,"ngIf"],[4,"ngIf"],[1,"product-list__items"],[4,"ngFor","ngForOf"],[1,"product-list__header","mat-title"],[1,"product-list__sort"],[1,"product-list__sort__results"],[1,"product-list__sort__by"],["appearance","fill"],[3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"product-list__line"],[3,"value"],[1,"product-list__items__items","mat-elevation-z0",3,"routerLink"],[1,"product-list__items__side-padding"],[1,"mat-body",3,"matTooltip"],[1,"priceRange"],["getVariantsDefaultImg",""],[1,"product-list__items__bottom"],[1,"mat-small","product-list__items__bottom__fav"],[1,"mat-small","product-list__items__bottom__star"],[1,"mat-small","product-list__items__bottom__sold"],[3,"src","alt",4,"ngIfGetVariantsDefaultImg","ngIf"],[3,"src","alt"],[3,"src","alt",4,"ngIf"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.YNc(1,U,2,1,"div",1),c.YNc(2,Q,11,2,"ng-container",2),c.TgZ(3,"div",3),c.YNc(4,F,22,14,"ng-container",4),c.qZA(),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngIf",e.title),c.xp6(1),c.Q6J("ngIf",e.sort),c.xp6(2),c.Q6J("ngForOf",e.products))},directives:[i.O5,i.sg,m.KE,m.hX,q.gD,T.ey,s.rH,w.gM,J.Hw],pipes:[i.OU,i.H9],styles:[".priceRange[_ngcontent-%COMP%]{font-size:1rem}.product-list[_ngcontent-%COMP%]{-webkit-animation:fadein 2s;animation:fadein 2s;display:grid;padding:2rem;grid-gap:1rem;gap:1rem}.product-list__header[_ngcontent-%COMP%]{display:grid;color:gray}.product-list__sort[_ngcontent-%COMP%]{display:grid;align-items:center}.product-list__sort__results[_ngcontent-%COMP%]{display:grid;justify-self:left;grid-row:1}.product-list__sort__by[_ngcontent-%COMP%]{display:grid;justify-self:right;grid-row:1}.product-list__line[_ngcontent-%COMP%]{display:grid;border-bottom:1px solid rgba(0,0,0,.09)}.product-list__items[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(170px,1fr));grid-gap:.5rem;gap:.5rem}.product-list__items__bottom[_ngcontent-%COMP%]{padding-top:.5rem;display:grid;grid-template-columns:1fr 1fr 50px}.product-list__items__bottom__heart[_ngcontent-%COMP%], .product-list__items__bottom__sold[_ngcontent-%COMP%], .product-list__items__bottom__star[_ngcontent-%COMP%]{justify-self:right}.product-list__items__side-padding[_ngcontent-%COMP%]{padding:0 1rem}.product-list__items__items[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-flow:column;padding:.3rem;background-color:#fff;word-break:break-all}.product-list__items__items[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{order:-1;align-self:center;width:100%}.product-list[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none}.product-list[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{text-decoration:underline}mat-icon[_ngcontent-%COMP%]{font-size:16px}@-webkit-keyframes fadein{0%{opacity:0}to{opacity:1}}@keyframes fadein{0%{opacity:0}to{opacity:1}}"]}),t})();function B(t,e){1&t&&c._UZ(0,"mat-progress-bar",5)}let E=(()=>{class t{constructor(t){this.productService=t,this.loading=!0}ngOnInit(){this.subscription=this.productService.obj$.subscribe(t=>{var e;this.productList=null===(e=t.obj)||void 0===e?void 0:e.filter(t=>t.node.default),this.loading=t.loading})}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(a.M5))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-product-main"]],decls:5,vars:2,consts:[["mode","indeterminate",4,"ngIf"],[1,"product-main"],[1,"product-main__banner"],[1,"product-main__category"],["title","Product List",1,"product-main__list",3,"products"],["mode","indeterminate"]],template:function(t,e){1&t&&(c.YNc(0,B,1,0,"mat-progress-bar",0),c.TgZ(1,"div",1),c._UZ(2,"app-product-banner",2),c._UZ(3,"app-product-category",3),c._UZ(4,"app-product-list",4),c.qZA()),2&t&&(c.Q6J("ngIf",e.loading),c.xp6(4),c.Q6J("products",e.productList))},styles:[".product-main[_ngcontent-%COMP%]{font-size:.875rem;display:grid}.product-main__banner[_ngcontent-%COMP%], .product-main__category[_ngcontent-%COMP%], .product-main__list[_ngcontent-%COMP%]{display:grid}"]}),t})();function $(t,e){if(1&t&&c._UZ(0,"img",9),2&t){const t=c.oxw().$implicit;c.Q6J("src",t.node.imgUpload,c.LSH)}}function L(t,e){1&t&&c._UZ(0,"img",10)}function H(t,e){if(1&t){const t=c.EpF();c.ynx(0),c.TgZ(1,"div",4),c.NdJ("click",function(){const e=c.CHM(t).$implicit;return c.oxw().goSearch(e.node.id)}),c.TgZ(2,"div",5),c.YNc(3,$,1,1,"img",6),c.YNc(4,L,1,0,"img",7),c.qZA(),c.TgZ(5,"div",8),c._uU(6),c.qZA(),c.qZA(),c.BQk()}if(2&t){const t=e.$implicit;c.xp6(3),c.Q6J("ngIf",t.node.imgUpload),c.xp6(1),c.Q6J("ngIf",!t.node.imgUpload),c.xp6(2),c.hij(" ",t.node.name," ")}}let V=(()=>{class t{constructor(t,e){this.productService=t,this.router=e}ngOnInit(){this.loadCategory("1")}loadCategory(t){this.productService.allCategoryQuery(t).valueChanges.subscribe(({data:t})=>{this.category=t.allProductcategory.edges.slice(0,16),console.log(t.allProductcategory.edges)})}goSearch(t){this.router.navigate([{outlets:{primary:"product/search",amount:null}}],{queryParams:{category:[t],level:1}})}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(a.M5),c.Y36(s.F0))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-product-category"]],decls:5,vars:1,consts:[[1,"product-category"],[1,"product-category__header","mat-title"],[1,"product-category__items"],[4,"ngFor","ngForOf"],[1,"product-category__items__items",3,"click"],[1,"product-category__items__items__img"],[3,"src",4,"ngIf"],["src","assets/empty-product.png",4,"ngIf"],[1,"product-category__items__items__name"],[3,"src"],["src","assets/empty-product.png"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c._uU(2," Categories "),c.qZA(),c.TgZ(3,"div",2),c.YNc(4,H,7,3,"ng-container",3),c.qZA(),c.qZA()),2&t&&(c.xp6(4),c.Q6J("ngForOf",e.category))},directives:[i.sg,i.O5],styles:[".product-category[_ngcontent-%COMP%]{display:grid;padding:2rem}.product-category__header[_ngcontent-%COMP%]{display:grid;color:gray}.product-category__items[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));justify-items:center;grid-gap:.2rem;gap:.2rem}.product-category__items__items[_ngcontent-%COMP%]{border-radius:16px;cursor:pointer;width:100%;height:140px;background-color:#fff;display:grid;justify-content:center;align-content:center;grid-gap:1rem;gap:1rem}.product-category__items__items__name[_ngcontent-%COMP%]{display:grid;justify-self:center;font-weight:700;color:#999}.product-category__items__items__img[_ngcontent-%COMP%]{-webkit-animation:fadein 3s;animation:fadein 3s;display:grid;justify-content:center;width:100%}.product-category[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;-o-object-fit:cover;object-fit:cover}.product-category[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none}.product-category[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{text-decoration:underline}mat-icon[_ngcontent-%COMP%]{font-size:64px}@-webkit-keyframes fadein{0%{opacity:0}to{opacity:1}}@keyframes fadein{0%{opacity:0}to{opacity:1}}"]}),t})();function D(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"span",7),c.NdJ("mouseover",function(){c.CHM(t);const e=c.oxw().$implicit;return c.oxw().setBanner(e.node.imgUpload)}),c.qZA()}}function z(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"span",7),c.NdJ("mouseover",function(){c.CHM(t);const e=c.oxw(2).$implicit;return c.oxw().setBanner(e.node.imgUrl)}),c.qZA()}}function X(t,e){if(1&t&&c.YNc(0,z,1,0,"span",8),2&t){const t=c.oxw().$implicit;c.Q6J("ngIf",t.node.imgUrl)}}function W(t,e){if(1&t&&(c.ynx(0),c.YNc(1,D,1,0,"span",5),c.YNc(2,X,1,1,"ng-template",null,6,c.W1O),c.BQk()),2&t){const t=e.$implicit,n=c.MAs(3);c.xp6(1),c.Q6J("ngIf",t.node.imgUpload)("ngIfElse",n)}}let R=(()=>{class t{constructor(t){this.promotionalService=t}ngOnInit(){this.promotionalService.getBannerQuery().valueChanges.subscribe(({data:t})=>{this.promotionalBanner=t.allPromotionalbanner.edges,this.displayBanner=this.getDisplayBanner(),console.log("promotional",t.allPromotionalbanner.edges)})}getDisplayBanner(){return this.promotionalBanner[0].node.imgUpload||this.promotionalBanner[0].node.imgUrl}setBanner(t){this.displayBanner=t}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(a.wB))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-product-banner"]],decls:5,vars:2,consts:[[1,"product-banner"],[1,"product-banner__img"],[3,"src"],[1,"product-banner__btn"],[4,"ngFor","ngForOf"],["class","product-banner__btn__nav",3,"mouseover",4,"ngIf","ngIfElse"],["get_by_imgurl",""],[1,"product-banner__btn__nav",3,"mouseover"],["class","product-banner__btn__nav",3,"mouseover",4,"ngIf"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c._UZ(2,"img",2),c.qZA(),c.TgZ(3,"div",3),c.YNc(4,W,4,2,"ng-container",4),c.qZA(),c.qZA()),2&t&&(c.xp6(2),c.Q6J("src",e.displayBanner,c.LSH),c.xp6(2),c.Q6J("ngForOf",e.promotionalBanner))},directives:[i.sg,i.O5],styles:[".product-banner[_ngcontent-%COMP%]{-webkit-animation:fadein 3s;animation:fadein 3s;display:grid;grid-gap:1rem;gap:1rem}.product-banner__btn[_ngcontent-%COMP%], .product-banner__img[_ngcontent-%COMP%]{grid-row:1/4}.product-banner__img[_ngcontent-%COMP%]{grid-column:1/6}.product-banner__btn[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(18px,18px));width:500px;grid-column:2/5;grid-row:3/4;z-index:1;padding-bottom:1.5rem;justify-self:center;justify-items:center;justify-content:center}.product-banner__btn__nav[_ngcontent-%COMP%]{display:grid;background-color:#fff;cursor:pointer;border-radius:12px;height:10px;width:10px}img[_ngcontent-%COMP%]{height:340px;width:100%;-o-object-fit:cover;object-fit:cover}@-webkit-keyframes fadein{0%{opacity:0}to{opacity:1}}@keyframes fadein{0%{opacity:0}to{opacity:1}}"]}),t})();const G=[{path:"product",component:E},{path:"product/search",component:u},{path:"product/detail/:id",component:A}];let K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[s.Bz.forChild(G)],s.Bz]}),t})();var tt=n(2398),et=n(994),nt=n(7672),it=n(2312);let rt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[i.ez,K,o.m,tt.I,r.u5,r.UX]]}),t})();c.B6R(u,[i.sg,et.oG,r.JJ,r.On,m.KE,m.hX,r.wV,f.Nt,r.Fj,h.lW,i.O5,nt.$g,j],[]),c.B6R(E,[i.O5,it.pW,R,V,j],[])}}]);