"use strict";(self.webpackChunksfayn=self.webpackChunksfayn||[]).push([[238],{9238:(lt,m,a)=>{a.r(m),a.d(m,{ProductModule:()=>gt});var d=a(6895),p=a(4006),M=a(3741),t=a(4650),_=a(5414),g=a(9132);function b(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"p")(2,"mat-checkbox",15),t.NdJ("ngModelChange",function(r){const s=t.CHM(e).$implicit;return t.KtG(s.checked=r)})("change",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.filter())}),t._uU(3),t.qZA()(),t.BQk()}if(2&n){const e=i.$implicit;t.xp6(2),t.Q6J("ngModel",e.checked),t.xp6(1),t.hij(" ",e.name," ")}}function Z(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"p")(2,"mat-checkbox",15),t.NdJ("ngModelChange",function(r){const s=t.CHM(e).$implicit;return t.KtG(s.checked=r)})("change",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.filter())}),t._uU(3),t.qZA()(),t.BQk()}if(2&n){const e=i.$implicit;t.xp6(2),t.Q6J("ngModel",e.checked),t.xp6(1),t.hij(" ",e.name," ")}}function O(n,i){1&n&&(t.TgZ(0,"div",16),t._UZ(1,"mat-spinner"),t.qZA())}function T(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",17)(1,"app-product-list",18),t.NdJ("sortEvent",function(r){t.CHM(e);const c=t.oxw();return t.KtG(c.getSortValue(r))}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("products",e.productList)("sort",!0)}}let f=(()=>{class n{constructor(e,o,r,c){this.productService=e,this.siteService=o,this.route=r,this.router=c,this.loading=!0}ngOnInit(){this.siteService.setNav2({component:"ProductSearchComponent"}),this.route.queryParams.subscribe(e=>{this.loading=!0,this.keyword=e.keyword,this.type=e.type,this.search(e)})}search(e){this.subscription=this.productService.searchProductsQuery(e).valueChanges.subscribe(({data:o,loading:r})=>{this.productList=o.allProductvariantitems.edges,"filter"!=this.type?(this.generateCategoryFilter(this.productList),this.generateBrandFilter(this.productList)):this.loading=r})}generateBrandFilter(e){e.length>0&&(this.brands=[],e.filter(r=>null!=r.node.parentSn.goodsBrand).map(r=>r.node.parentSn.goodsBrand).forEach((r,c)=>{this.brands.push({id:c,name:r,checked:!1})}))}generateCategoryFilter(e){const o=e.map(r=>r.node.parentSn.category.parent.id);o.length>0?this.productService.getCategoryQuery(o).valueChanges.subscribe(({data:r,loading:c})=>{const s=r.allProductcategory.edges.map(u=>u.node.productcategorySet.edges.map(x=>({id:x.node.id,name:x.node.name,checked:!1})));this.categories=[],s.forEach(u=>{this.categories.push(...u)}),this.loading=c}):this.loading=!1}navTo(e){this.router.navigate([{outlets:{primary:"product/search",amount:null}}],{queryParams:e})}buildQueryParams(e,o,r){const c=[];return e?.forEach(s=>{s.checked&&c.push(s[o])}),c.length>0?{[r]:c.join()}:{}}filter(){let e={keyword:this.keyword,type:"filter"};this.minPrice&&this.maxPrice&&(e.minprice=this.minPrice,e.maxprice=this.maxPrice),this.sortValue&&(e.orderBy=this.sortValue),e={...e,...this.buildQueryParams(this.categories,"id","category"),...this.buildQueryParams(this.brands,"name","brand")},this.navTo(e)}getSortValue(e){this.sortValue=e,this.filter()}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.M5),t.Y36(_.Pu),t.Y36(g.gz),t.Y36(g.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-search"]],decls:34,vars:7,consts:[[1,"product-search"],[1,"product-search__search"],[4,"ngFor","ngForOf"],[1,"product-search__search__line"],[1,"product-search__search__price"],[1,"product-search__search__price__label"],[1,"product-search__search__price__min"],["appearance","fill",2,"width","80px"],["type","number","matInput","",3,"ngModel","ngModelChange"],[1,"product-search__search__price__dash"],[1,"product-search__search__price__max"],[1,"product-search__search__price__btn"],["mat-raised-button","","color","accent",3,"disabled","click"],["class","product-search__spinner",4,"ngIf"],["class","product-search__list",4,"ngIf"],[3,"ngModel","ngModelChange","change"],[1,"product-search__spinner"],[1,"product-search__list"],[3,"products","sort","sortEvent"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"h4"),t._uU(4,"Categories"),t.qZA(),t.YNc(5,b,4,2,"ng-container",2),t.qZA(),t._UZ(6,"div",3),t.TgZ(7,"div",4)(8,"div",5)(9,"strong"),t._uU(10,"Price Range"),t.qZA()(),t.TgZ(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),t._uU(14,"Min"),t.qZA(),t.TgZ(15,"input",8),t.NdJ("ngModelChange",function(c){return o.minPrice=c}),t.qZA()()(),t.TgZ(16,"div",9),t._uU(17,"-"),t.qZA(),t.TgZ(18,"div",10)(19,"mat-form-field",7)(20,"mat-label"),t._uU(21,"Max"),t.qZA(),t.TgZ(22,"input",8),t.NdJ("ngModelChange",function(c){return o.maxPrice=c}),t.qZA()()(),t.TgZ(23,"div",11)(24,"button",12),t.NdJ("click",function(){return o.filter()}),t._uU(25,"Apply"),t.qZA()()(),t._UZ(26,"div",3),t.TgZ(27,"div")(28,"h4"),t._uU(29,"Brands"),t.qZA(),t.YNc(30,Z,4,2,"ng-container",2),t.qZA(),t._UZ(31,"div",3),t.qZA(),t.YNc(32,O,2,0,"div",13),t.YNc(33,T,2,2,"div",14),t.qZA()),2&e&&(t.xp6(5),t.Q6J("ngForOf",o.categories),t.xp6(10),t.Q6J("ngModel",o.minPrice),t.xp6(7),t.Q6J("ngModel",o.maxPrice),t.xp6(2),t.Q6J("disabled",!o.minPrice||!o.maxPrice||o.minPrice>=o.maxPrice),t.xp6(6),t.Q6J("ngForOf",o.brands),t.xp6(2),t.Q6J("ngIf",o.loading),t.xp6(1),t.Q6J("ngIf",!o.loading))},styles:['.product-search[_ngcontent-%COMP%]{display:grid;grid-template-columns:200px 1fr;font-size:.875rem;align-items:flex-start;padding-top:2rem;padding-left:2rem}.product-search__search[_ngcontent-%COMP%]{display:grid;align-items:center;grid-gap:1rem;gap:1rem}.product-search__search__line[_ngcontent-%COMP%]{display:grid;border-bottom:1px solid rgba(0,0,0,.09)}.product-search__search__price[_ngcontent-%COMP%]{display:grid;grid-gap:1rem;gap:1rem;grid-template-columns:1fr 5px 1fr;grid-template-areas:"label label label" "min   dash  max" "btn   btn   btn"}.product-search__search__price__label[_ngcontent-%COMP%]{display:grid;grid-area:label}.product-search__search__price__min[_ngcontent-%COMP%]{display:grid;grid-area:min}.product-search__search__price__dash[_ngcontent-%COMP%]{display:grid;grid-area:dash;align-items:center}.product-search__search__price__max[_ngcontent-%COMP%]{display:grid;grid-area:max}.product-search__search__price__btn[_ngcontent-%COMP%]{display:grid;grid-area:btn}.product-search__list[_ngcontent-%COMP%]{display:grid}.product-search__spinner[_ngcontent-%COMP%]{display:grid;justify-self:center;height:50%;align-items:center}']}),n})();var h=a(4859),C=a(811),l=a(9549),P=a(4144);function S(n,i){if(1&n&&t._UZ(0,"img",18),2&n){const e=t.oxw(2);t.Q6J("src",e.mainPicture,t.LSH)}}function A(n,i){if(1&n&&t._UZ(0,"img",18),2&n){const e=t.oxw().$implicit;t.Q6J("src",e.node.imgUrl,t.LSH)}}function J(n,i){if(1&n&&(t.ynx(0),t.YNc(1,A,1,1,"img",19),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e.node.coverPhoto)}}function U(n,i){if(1&n&&t.YNc(0,J,2,1,"ng-container",7),2&n){const e=t.oxw(2);t.Q6J("ngForOf",e.product.parentSn.parent2image.edges)}}function Q(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"img",20),t.NdJ("mouseover",function(){const c=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.setMainPicture(c.node.imgUrl))}),t.qZA(),t.BQk()}if(2&n){const e=i.$implicit;t.xp6(1),t.Q6J("src",e.node.imgUrl,t.LSH)}}function w(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.ALo(2,"currency"),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.product.price)," ")}}function I(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.ALo(2,"currency"),t.ALo(3,"currency"),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE(" ",t.lcZ(2,2,e.product.parentSn.priceMin),"~",t.lcZ(3,4,e.product.parentSn.priceMax)," ")}}function F(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-button-toggle",21),t.NdJ("click",function(){const c=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.goSelectVariant(c.node.id,c.node.imgUrl))}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit;t.Q6J("value",e.node.options),t.xp6(1),t.hij(" ",e.node.options," ")}}function B(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"section",2)(1,"div",3),t.YNc(2,S,1,1,"img",4),t.YNc(3,U,1,1,"ng-template",null,5,t.W1O),t.TgZ(5,"div",6),t.YNc(6,Q,2,1,"ng-container",7),t.qZA()(),t.TgZ(7,"div",8)(8,"div",9),t._uU(9),t.qZA(),t.TgZ(10,"div",10),t.YNc(11,w,3,3,"ng-container",11),t.YNc(12,I,4,6,"ng-container",11),t.qZA(),t.TgZ(13,"div",12)(14,"div"),t._uU(15),t.qZA(),t.TgZ(16,"div")(17,"mat-button-toggle-group"),t.YNc(18,F,2,2,"mat-button-toggle",13),t.qZA()()(),t.TgZ(19,"div",12)(20,"div"),t._uU(21,"available stocks:"),t.qZA(),t.TgZ(22,"div"),t._uU(23),t.qZA()(),t.TgZ(24,"div",12)(25,"div"),t._uU(26,"quantity:"),t.qZA(),t.TgZ(27,"div")(28,"mat-form-field")(29,"input",14),t.NdJ("ngModelChange",function(r){t.CHM(e);const c=t.oxw();return t.KtG(c.quantity=r)}),t.qZA()()()(),t.TgZ(30,"div")(31,"button",15),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.addCart(r.product.sku,r.quantity))}),t._uU(32,"Add to Cart"),t.qZA()()(),t.TgZ(33,"div",16),t._UZ(34,"p",17),t.qZA()()}if(2&n){const e=t.MAs(4),o=t.oxw();t.xp6(2),t.Q6J("ngIf",o.mainPicture)("ngIfElse",e),t.xp6(4),t.Q6J("ngForOf",o.product.parentSn.parent2image.edges),t.xp6(3),t.Oqu(o.product.parentSn.title),t.xp6(2),t.Q6J("ngIf",o.selectVariant),t.xp6(1),t.Q6J("ngIf",!o.selectVariant),t.xp6(3),t.hij("",o.product.productVariant.name,":"),t.xp6(3),t.Q6J("ngForOf",o.product.parentSn.product2variantitem.edges),t.xp6(5),t.hij("",o.product.quantity," "),t.xp6(6),t.Q6J("disabled",!o.selectVariant)("ngModel",o.quantity),t.xp6(2),t.Q6J("disabled",!o.selectVariant),t.xp6(3),t.Q6J("innerHTML",o.product.parentSn.goodsDesc,t.oJD)}}let N=(()=>{class n{constructor(e,o,r,c,s,u){this.route=e,this.router=o,this.siteService=r,this.productService=c,this.cartService=s,this.authService=u,this.selectVariant=!1,this.quantity=1}ngOnInit(){this.siteService.setNav2({component:"ProductDetailComponent"}),this.route.params.subscribe(e=>{this.product=this.productService.getProductDetail(e.id)})}setMainPicture(e){this.mainPicture=e}addCart(e,o){this.authService.isLoggedIn()?this.cartService.addCart(e,o).subscribe():this.authService.openLoginDialog()}goSelectVariant(e,o){this.router.navigate([{outlets:{primary:`product/detail/${e}`,amount:null}}]),this.mainPicture=o,this.selectVariant=!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.gz),t.Y36(g.F0),t.Y36(_.Pu),t.Y36(_.M5),t.Y36(_.Ni),t.Y36(_.e8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-detail"]],decls:2,vars:1,consts:[[1,"product-detail-container"],["class","product-detail-grid mat-subheading-2",4,"ngIf"],[1,"product-detail-grid","mat-subheading-2"],[1,"product-detail-img"],[3,"src",4,"ngIf","ngIfElse"],["getImgCoverPhoto",""],[1,"product-detail-img-slide"],[4,"ngFor","ngForOf"],[1,"product-detail-title"],[1,"mat-title",2,"margin-bottom","0"],[1,"mat-display-1",2,"margin-bottom","0"],[4,"ngIf"],[1,"mat-body"],[3,"value","click",4,"ngFor","ngForOf"],["matInput","","type","number",3,"disabled","ngModel","ngModelChange"],["mat-raised-button","","color","accent",3,"disabled","click"],[1,"product-detail-desc","mat-body"],[3,"innerHTML"],[3,"src"],[3,"src",4,"ngIf"],[3,"src","mouseover"],[3,"value","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,B,35,13,"section",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",o.product))},dependencies:[d.sg,d.O5,h.lW,C.A9,C.Yi,l.KE,P.Nt,p.Fj,p.wV,p.JJ,p.On,d.H9],styles:['.product-detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr;grid-template-areas:"img title" "desc desc";grid-gap:1rem}.product-detail-grid-items[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .product-detail-img[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .product-detail-title[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;padding-bottom:1.5rem}.product-detail-title[_ngcontent-%COMP%]{grid-area:title}.product-detail-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:0 1 auto}.product-detail-title[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{padding-left:2rem}.product-detail-desc[_ngcontent-%COMP%]{grid-area:desc;padding:1rem}.product-detail-img[_ngcontent-%COMP%]{grid-area:img;padding:1rem;align-items:center;justify-content:center;animation:fadein 2s}.product-detail-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;flex:0 1 auto;width:450px;height:55vh}.product-detail-img-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;margin:.2rem;width:50px;height:10vh;cursor:pointer}.product-detail-container[_ngcontent-%COMP%]{background-color:#fff;padding:.5rem;margin:1rem}mat-form-field[_ngcontent-%COMP%]{width:150px;text-align:center}@keyframes fadein{0%{opacity:0}to{opacity:1}}']}),n})();var Y=a(3238),q=a(7392),k=a(4385),j=a(266);function L(n,i){if(1&n&&(t.TgZ(0,"div",5),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.title," ")}}function D(n,i){if(1&n&&(t.TgZ(0,"mat-option",13),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.viewValue," ")}}function E(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",7),t._uU(3),t.qZA(),t.TgZ(4,"div",8)(5,"mat-form-field",9)(6,"mat-label"),t._uU(7,"Sort By:"),t.qZA(),t.TgZ(8,"mat-select",10),t.NdJ("selectionChange",function(r){t.CHM(e);const c=t.oxw();return t.KtG(c.onSortChange(r))}),t.YNc(9,D,2,2,"mat-option",11),t.qZA()()()(),t._UZ(10,"div",12),t.BQk()}if(2&n){const e=t.oxw();t.xp6(3),t.hij(" ",e.results," items found "),t.xp6(6),t.Q6J("ngForOf",e.sortItems)}}function H(n,i){if(1&n&&t._UZ(0,"img",24),2&n){const e=t.oxw().$implicit,o=t.oxw().$implicit;t.Q6J("src",e.node.imgUrl,t.LSH)("alt",o.node.parentSn.title)}}function $(n,i){if(1&n&&(t.ynx(0),t.YNc(1,H,1,2,"img",23),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e.node.coverPhoto)}}function V(n,i){if(1&n&&t._UZ(0,"img",24),2&n){const e=t.oxw(2).$implicit;t.Q6J("src",e.node.imgUrl,t.LSH)("alt",e.node.parentSn.title)}}function G(n,i){if(1&n&&t.YNc(0,V,1,2,"img",25),2&n){const e=t.oxw().$implicit;t.Q6J("ngIf",e.node.imgUrl)}}function K(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",14)(2,"div",15)(3,"div",16),t._uU(4),t.ALo(5,"slice"),t.qZA(),t.TgZ(6,"div",17),t._uU(7),t.ALo(8,"currency"),t.ALo(9,"currency"),t.qZA()(),t.YNc(10,$,2,1,"ng-container",4),t.YNc(11,G,1,1,"ng-template",null,18,t.W1O),t.TgZ(13,"div",19)(14,"div",20)(15,"mat-icon"),t._uU(16,"favorite_border"),t.qZA()(),t.TgZ(17,"div",21)(18,"mat-icon"),t._uU(19,"star_border"),t.qZA()(),t.TgZ(20,"div",22),t._uU(21,"0 Sold"),t.qZA()()(),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.MGl("routerLink","/product/detail/",e.node.id,""),t.xp6(2),t.s9C("matTooltip",e.node.parentSn.title),t.xp6(1),t.hij("",t.Dn7(5,6,e.node.parentSn.title,0,40),"..."),t.xp6(3),t.AsE("",t.lcZ(8,10,e.node.parentSn.priceMin),"~",t.lcZ(9,12,e.node.parentSn.priceMax),""),t.xp6(3),t.Q6J("ngForOf",e.node.parentSn.parent2image.edges)}}let y=(()=>{class n{constructor(){this.sortItems=[{value:"price",viewValue:"Price low to high"},{value:"-price",viewValue:"Price high to low"}],this.sort=!1,this.sortEvent=new t.vpe,this.loading=!0}ngOnInit(){this.sort&&(this.results=this.products?.length)}onSortChange(e){this.sortEvent.emit(e.value)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-list"]],inputs:{products:"products",title:"title",sort:"sort"},outputs:{sortEvent:"sortEvent"},decls:5,vars:3,consts:[[1,"product-list"],["class","product-list__header mat-title",4,"ngIf"],[4,"ngIf"],[1,"product-list__items"],[4,"ngFor","ngForOf"],[1,"product-list__header","mat-title"],[1,"product-list__sort"],[1,"product-list__sort__results"],[1,"product-list__sort__by"],["appearance","fill"],[3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"product-list__line"],[3,"value"],[1,"product-list__items__items","mat-elevation-z0",3,"routerLink"],[1,"product-list__items__side-padding"],[1,"mat-body",3,"matTooltip"],[1,"priceRange"],["getVariantsDefaultImg",""],[1,"product-list__items__bottom"],[1,"mat-small","product-list__items__bottom__fav"],[1,"mat-small","product-list__items__bottom__star"],[1,"mat-small","product-list__items__bottom__sold"],[3,"src","alt",4,"ngIfGetVariantsDefaultImg","ngIf"],[3,"src","alt"],[3,"src","alt",4,"ngIf"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,L,2,1,"div",1),t.YNc(2,E,11,2,"ng-container",2),t.TgZ(3,"div",3),t.YNc(4,K,22,14,"ng-container",4),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("ngIf",o.title),t.xp6(1),t.Q6J("ngIf",o.sort),t.xp6(2),t.Q6J("ngForOf",o.products))},dependencies:[d.sg,d.O5,g.rH,Y.ey,q.Hw,l.KE,l.hX,k.gD,j.gM,d.OU,d.H9],styles:[".priceRange[_ngcontent-%COMP%]{font-size:1rem}.product-list[_ngcontent-%COMP%]{animation:fadein 2s;display:grid;padding:2rem;grid-gap:1rem;gap:1rem}.product-list__header[_ngcontent-%COMP%]{display:grid;color:gray}.product-list__sort[_ngcontent-%COMP%]{display:grid;align-items:center}.product-list__sort__results[_ngcontent-%COMP%]{display:grid;justify-self:left;grid-row:1}.product-list__sort__by[_ngcontent-%COMP%]{display:grid;justify-self:right;grid-row:1}.product-list__line[_ngcontent-%COMP%]{display:grid;border-bottom:1px solid rgba(0,0,0,.09)}.product-list__items[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(170px,1fr));grid-gap:.5rem;gap:.5rem}.product-list__items__bottom[_ngcontent-%COMP%]{padding-top:.5rem;display:grid;grid-template-columns:1fr 1fr 50px}.product-list__items__bottom__sold[_ngcontent-%COMP%], .product-list__items__bottom__star[_ngcontent-%COMP%], .product-list__items__bottom__heart[_ngcontent-%COMP%]{justify-self:right}.product-list__items__side-padding[_ngcontent-%COMP%]{padding:0px 1rem}.product-list__items__items[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-flow:column;padding:.3rem;background-color:#fff;word-break:break-all}.product-list__items__items[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{order:-1;align-self:center;width:100%}.product-list[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none}.product-list[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{text-decoration:underline}mat-icon[_ngcontent-%COMP%]{font-size:16px}@keyframes fadein{0%{opacity:0}to{opacity:1}}"]}),n})();function z(n,i){1&n&&t._UZ(0,"mat-progress-bar",5)}let v=(()=>{class n{constructor(e){this.productService=e,this.loading=!0}ngOnInit(){console.log("this is a test?"),this.subscription=this.productService.obj$.subscribe(e=>{this.productList=e.obj?.filter(o=>o.node.default),console.log(e.obj),this.loading=e.loading})}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.M5))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-main"]],decls:5,vars:2,consts:[["mode","indeterminate",4,"ngIf"],[1,"product-main"],[1,"product-main__banner"],[1,"product-main__category"],["title","Product List",1,"product-main__list",3,"products"],["mode","indeterminate"]],template:function(e,o){1&e&&(t.YNc(0,z,1,0,"mat-progress-bar",0),t.TgZ(1,"div",1),t._UZ(2,"app-product-banner",2)(3,"app-product-category",3)(4,"app-product-list",4),t.qZA()),2&e&&(t.Q6J("ngIf",o.loading),t.xp6(4),t.Q6J("products",o.productList))},styles:[".product-main[_ngcontent-%COMP%]{font-size:.875rem;display:grid}.product-main__banner[_ngcontent-%COMP%], .product-main__category[_ngcontent-%COMP%], .product-main__list[_ngcontent-%COMP%]{display:grid}"]}),n})();function X(n,i){if(1&n&&t._UZ(0,"img",9),2&n){const e=t.oxw().$implicit;t.Q6J("src",e.node.imgUpload,t.LSH)}}function R(n,i){1&n&&t._UZ(0,"img",10)}function W(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",4),t.NdJ("click",function(){const c=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.goSearch(c.node.id))}),t.TgZ(2,"div",5),t.YNc(3,X,1,1,"img",6),t.YNc(4,R,1,0,"img",7),t.qZA(),t.TgZ(5,"div",8),t._uU(6),t.qZA()(),t.BQk()}if(2&n){const e=i.$implicit;t.xp6(3),t.Q6J("ngIf",e.node.imgUpload),t.xp6(1),t.Q6J("ngIf",!e.node.imgUpload),t.xp6(2),t.hij(" ",e.node.name," ")}}let tt=(()=>{class n{constructor(e,o){this.productService=e,this.router=o}ngOnInit(){this.loadCategory("1")}loadCategory(e){this.productService.allCategoryQuery(e).valueChanges.subscribe(({data:o})=>{this.category=o.allProductcategory.edges.slice(0,16),console.log(o.allProductcategory.edges)})}goSearch(e){this.router.navigate([{outlets:{primary:"product/search",amount:null}}],{queryParams:{category:[e],level:1}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.M5),t.Y36(g.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-category"]],decls:5,vars:1,consts:[[1,"product-category"],[1,"product-category__header","mat-title"],[1,"product-category__items"],[4,"ngFor","ngForOf"],[1,"product-category__items__items",3,"click"],[1,"product-category__items__items__img"],[3,"src",4,"ngIf"],["src","assets/empty-product.png",4,"ngIf"],[1,"product-category__items__items__name"],[3,"src"],["src","assets/empty-product.png"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2," Categories "),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,W,7,3,"ng-container",3),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("ngForOf",o.category))},dependencies:[d.sg,d.O5],styles:[".product-category[_ngcontent-%COMP%]{display:grid;padding:2rem}.product-category__header[_ngcontent-%COMP%]{display:grid;color:gray}.product-category__items[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));justify-items:center;grid-gap:.2rem;gap:.2rem}.product-category__items__items[_ngcontent-%COMP%]{border-radius:16px;cursor:pointer;width:100%;height:140px;background-color:#fff;display:grid;justify-content:center;align-content:center;grid-gap:1rem;gap:1rem}.product-category__items__items__name[_ngcontent-%COMP%]{display:grid;justify-self:center;font-weight:700;color:#999}.product-category__items__items__img[_ngcontent-%COMP%]{animation:fadein 3s;display:grid;justify-content:center;width:100%}.product-category[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;-o-object-fit:cover;object-fit:cover}.product-category[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-decoration:none}.product-category[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{text-decoration:underline}mat-icon[_ngcontent-%COMP%]{font-size:64px}@keyframes fadein{0%{opacity:0}to{opacity:1}}"]}),n})();function et(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",7),t.NdJ("mouseover",function(){t.CHM(e);const r=t.oxw().$implicit,c=t.oxw();return t.KtG(c.setBanner(r.node.imgUpload))}),t.qZA()}}function nt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"span",7),t.NdJ("mouseover",function(){t.CHM(e);const r=t.oxw(2).$implicit,c=t.oxw();return t.KtG(c.setBanner(r.node.imgUrl))}),t.qZA()}}function ot(n,i){if(1&n&&t.YNc(0,nt,1,0,"span",8),2&n){const e=t.oxw().$implicit;t.Q6J("ngIf",e.node.imgUrl)}}function it(n,i){if(1&n&&(t.ynx(0),t.YNc(1,et,1,0,"span",5),t.YNc(2,ot,1,1,"ng-template",null,6,t.W1O),t.BQk()),2&n){const e=i.$implicit,o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.node.imgUpload)("ngIfElse",o)}}let rt=(()=>{class n{constructor(e){this.promotionalService=e}ngOnInit(){this.promotionalService.getBannerQuery().valueChanges.subscribe(({data:e})=>{this.promotionalBanner=e.allPromotionalbanner.edges,this.displayBanner=this.getDisplayBanner(),console.log("promotional",e.allPromotionalbanner.edges)})}getDisplayBanner(){return this.promotionalBanner[0].node.imgUpload||this.promotionalBanner[0].node.imgUrl}setBanner(e){this.displayBanner=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.wB))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-banner"]],decls:5,vars:2,consts:[[1,"product-banner"],[1,"product-banner__img"],[3,"src"],[1,"product-banner__btn"],[4,"ngFor","ngForOf"],["class","product-banner__btn__nav",3,"mouseover",4,"ngIf","ngIfElse"],["get_by_imgurl",""],[1,"product-banner__btn__nav",3,"mouseover"],["class","product-banner__btn__nav",3,"mouseover",4,"ngIf"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3),t.YNc(4,it,4,2,"ng-container",4),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("src",o.displayBanner,t.LSH),t.xp6(2),t.Q6J("ngForOf",o.promotionalBanner))},dependencies:[d.sg,d.O5],styles:[".product-banner[_ngcontent-%COMP%]{animation:fadein 3s;display:grid;grid-gap:1rem;gap:1rem}.product-banner__img[_ngcontent-%COMP%], .product-banner__btn[_ngcontent-%COMP%]{grid-row:1/4}.product-banner__img[_ngcontent-%COMP%]{grid-column:1/6}.product-banner__btn[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(18px,18px));width:500px;grid-column:2/5;grid-row:3/4;z-index:1;padding-bottom:1.5rem;justify-self:center;justify-items:center;justify-content:center}.product-banner__btn__nav[_ngcontent-%COMP%]{display:grid;background-color:#fff;cursor:pointer;border-radius:12px;height:10px;width:10px}img[_ngcontent-%COMP%]{height:340px;width:100%;-o-object-fit:cover;object-fit:cover}@keyframes fadein{0%{opacity:0}to{opacity:1}}"]}),n})();const ct=[{path:"product",component:v},{path:"product/search",component:f},{path:"product/detail/:id",component:N}];let at=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.Bz.forChild(ct),g.Bz]}),n})();var st=a(294),dt=a(6709),pt=a(1572),_t=a(3162);let gt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,at,M.m,st.I,p.u5,p.UX]}),n})();t.B6R(f,[d.sg,d.O5,h.lW,dt.oG,l.KE,l.hX,P.Nt,pt.Ou,p.Fj,p.wV,p.JJ,p.On,y],[]),t.B6R(v,[d.O5,_t.pW,y,tt,rt],[])}}]);